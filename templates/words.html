{{define "words.html"}}
{{template "_header.html" .}}
<main>
        
{{if .DisplayTrud}}

<table id="words">
    <tr>
        {{if .IsDev}}<th id="id">
            <a href="?sortby=id&order={{if .Reverse}}asc{{else}}desc{{end}}"><span>ID</span>{{if eq .SortBy "id"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>{{end}}
        <th id="nw">
            <a href="?sortby=funsort&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Character order:
aäeiywuøolrmnbpvfgkdtzsžšh" class="info above">New Spelling</span>{{if eq .SortBy "funsort"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="old">
            <a href="?sortby=trud&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Character order:
abcdefghijklmnopqrstuvwxyz" class="info above">Old Spelling</span>{{if eq .SortBy "trud"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="dist">
            <a href="?sortby=dist&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Min # of changes 
to get from old to new" class="info above">Dist</span>{{if eq .SortBy "dist"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>
        <th id="pus">
            <span data-title="Part of Speech" class="info above nolink hover">PoS</span>
        </th>
        <th id="sil">
            <span data-title="Syllables" class="info above nolink hover">Syls</span>
        </th>
    </tr>
    {{template "wordsSorted" .}}
</table>


{{else}}
<table id="words">
    <tr>
        {{if .IsDev}}<th id="id">
            <a href="?sortby=id&order={{if .Reverse}}asc{{else}}desc{{end}}"><span>ID</span>{{if eq .SortBy "id"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>{{end}}
        <th id="nw">
            <a href="?sortby=funsort&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Keriktør ordør: 
aäeiywuøolrmnbpvfgkdtzsžšh" class="info above">Nw Speling</span>{{if eq .SortBy "funsort"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="old">
            <a href="?sortby=trud&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Keriktør ordør: 
abcdefghijklmnopqrstuvwxyz" class="info above">Old Speling</span>{{if eq .SortBy "trud"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="dist">
            <a href="?sortby=dist&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Min # uv tšendžiz 
tw get frum old tw nw" class="info above">Dist</span>{{if eq .SortBy "dist"}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>
        <th id="pus">
            <span data-title="Part uv Spytš" class="info above nolink hover">PuS</span>
        </th>
        <th id="sil">
            <span data-title="Silubulz" class="info above nolink hover">Silz</span>
        </th>
    </tr>
    {{template "wordsSorted" .}}
</table>

{{end}}

<nav class="letters">
    <ul>
    {{$displaytrud := .DisplayTrud}}
    {{range .InitialIndex}}
        <li><a href="?sortby=funsort&order=asc&num=20&start={{.Index}}&orth={{if $displaytrud}}trud{{else}}fun{{end}}">{{.Letter}}</a></li>
    {{end}}
    </ul>
</nav>

<nav class="backnext">
    <ul>
        {{if .PreviousPage}}
        <script>
            document.addEventListener("keyup", function (evt) {
                evt = evt || window.event;
                if (evt.keyCode == 65) { /*37*/
                    window.location = '{{.PreviousPage}}'
                }
            });
        </script>
        <li><a href="{{.PreviousPage}}" class="back info toleft" data-title="Keyboard shortcut: A"><i>🡄</i> {{if .DisplayTrud}}Back{{else}}Bäk{{end}}</a></li>{{else}}
        <li><a class="disabled"><i>🡄</i> {{if .DisplayTrud}}Back{{else}}Bäk{{end}}</a></li>{{end}} {{if .NextPage}}
        <script>
            document.addEventListener("keyup", function (evt) {
                evt = evt || window.event;
                if (evt.keyCode == 68) { /*39*/
                    window.location = '{{.NextPage}}'
                }
            });
        </script>
        <li><a href="{{.NextPage}}" class="next info toright" data-title="Keyboard shortcut: D">{{if .DisplayTrud}}Next{{else}}Nekst{{end}} <i>🡆</i></a></li>{{else}}
        <li><a class="disabled">{{if .DisplayTrud}}Next{{else}}Nekst{{end}} <i>🡆</i></a></li>{{end}}
    </ul>
</nav>


{{if .DisplayTrud}}
<h3 class="center">Part of Speech Symbols</h3>
<aside id="legend">
    <table>
        <tr><td>N</td><td>Noun</td></tr>
        <tr><td>p</td><td>Plural</td></tr>
        <tr><td>h</td><td>Noun Phrase</td></tr>
        <tr><td>V</td><td>Verb (usu. participle)</td></tr>
    </table>
    <table>
        <tr><td>t</td><td>Verb (transitive)</td></tr>
        <tr><td>i</td><td>Verb (intransitive)</td></tr>
        <tr><td>A</td><td>Adjective</td></tr>
        <tr><td>v</td><td>Adverb</td></tr>
    </table>
    
    <table>
        <tr><td>C</td><td>Conjugation</td></tr>
        <tr><td>P</td><td>Preposition</td></tr>
        <tr><td>!</td><td>Interjection</td></tr>
        <tr><td>r</td><td>Pronoun</td></tr>
    </table>
    <table>
        <tr><td>D</td><td>Definite Article</td></tr>
        <tr><td>I</td><td>Indefinite Article</td></tr>
        <tr><td>o</td><td>Nominitive</td></tr>
    </table>
</aside>
{{else}}
<h3 class="center">Part uv Spytš Simbulz</h3>        
<aside id="legend">
    <table>
        <tr><td>N</td><td>Näwn</td></tr>
        <tr><td>P</td><td>Plørul</td></tr>
        <tr><td>h</td><td>Näwn Freiz</td></tr>
        <tr><td>V</td><td>Vørb (yuž. partisipul)</td></tr>
    </table>
    <table>
        <tr><td>t</td><td>Vørb (tränzitiv)</td></tr>
        <tr><td>i</td><td>Vørb (intränzitiv)</td></tr>
        <tr><td>A</td><td>Ädžiktiv</td></tr>
        <tr><td>v</td><td>Ädvørb</td></tr>
    </table>
    
    <table>
        <tr><td>C</td><td>Kandžugeišin</td></tr>
        <tr><td>P</td><td>Prepuzišin</td></tr>
        <tr><td>!</td><td>Intørdžekšin</td></tr>
        <tr><td>r</td><td>Pronäwn</td></tr>
    </table>
    <table>
        <tr><td>D</td><td>Definit Artikul</td></tr>
        <tr><td>I</td><td>Indefinit Artikul</td></tr>
        <tr><td>o</td><td>Naminitiv</td></tr>
    </table>
</aside>


{{end}}

</main>
<script>
    /* prevents page reloads from toggling flags */
    var uri = window.location.toString()
    console.log(uri)
    if (uri.indexOf("&id") > 0) {
        var clean_uri = uri.substring(0, uri.indexOf("&id"))
        window.history.replaceState({}, document.title, clean_uri)
        console.log(document.title + clean_uri)
    }
</script>

{{template "_footer.html" .}}
{{end}}