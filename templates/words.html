{{define "words.html"}}
{{template "_header.html" .}}

{{if .DisplayTrud}}

<table id="words">
    <tr>
        <th id="id">
            <a href="?sortby=id&order={{if .Reverse}}asc{{else}}desc{{end}}"><span>ID</span>{{if .ID}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>
        <th id="nw">
            <a href="?sortby=new&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Character order:
aäeiywuøolrmnbpvfgkdtzsžšh" class="info above">New Spelling</span>{{if .New}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="old">
            <a href="?sortby=old&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Character order:
abcdefghijklmnopqrstuvwxyz" class="info above">Old Spelling</span>{{if .Old}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="dist">
            <a href="?sortby=dist&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Min # of changes 
to get from old to new" class="info above">Dist</span>{{if .Dist}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>
        <th id="pus">
            <span data-title="Part of Speech" class="info above nolink hover">PoS</span>
        </th>
        <th id="sil">
            <span data-title="Syllables" class="info above nolink hover">Syls</span>
        </th>
    </tr>
    {{template "wordsSorted" .}}
</table>

<nav class="bottom">
    <ul>
        {{if .PreviousPage}}
        <script>
            document.addEventListener("keydown", function (evt) {
                evt = evt || window.event;
                if (evt.keyCode == 65) { /*37*/
                    window.location = '{{.PreviousPage}}'
                }
            });
        </script>
        <li><a href="{{.PreviousPage}}" class="back" data-title="Keyboard shortcut: left arrow"><i>🡄</i> Back</a></li>{{else}}
        <li><a class="disabled"><i>🡄</i> Back</a></li>{{end}} {{if .NextPage}}
        <script>
            document.addEventListener("keydown", function (evt) {
                evt = evt || window.event
                if (evt.keyCode == 68) { /*39*/
                    window.location = '{{.NextPage}}'
                }
            });
        </script>
        <li><a href="{{.NextPage}}" class="next" data-title="Keyboard shortcut: right arrow">Next <i>🡆</i></a></li>{{else}}
        <li><a class="disabled">Next <i>🡆</i></a></li>{{end}}
    </ul>
</nav>
<aside id="legend">
    <table>
        <tr><td>N</td><td>Näwn</td></tr>
        <tr><td>P</td><td>Plørul</td></tr>
        <tr><td>h</td><td>Näwn Freiz</td></tr>
        <tr><td>V</td><td>Vørb (už partisipul)</td></tr>
        <tr><td>t</td><td>Vørb (tränzitiv)</td></tr>
        <tr><td>i</td><td>Vørb (intränzitiv)</td></tr>
        <tr><td>A</td><td>Ädžiktiv</td></tr>
    </table>
    
    <table>
        <tr><td>v</td><td>Ädvørb</td></tr>
        <tr><td>C</td><td>Kandžugeišin</td></tr>
        <tr><td>P</td><td>Prepuzišin</td></tr>
        <tr><td>!</td><td>Intørdžekšin</td></tr>
        <tr><td>r</td><td>Pronäwn</td></tr>
        <tr><td>D</td><td>Definit Artikul</td></tr>
        <tr><td>I</td><td>Indefinit Artikul</td></tr>
        <tr><td>o</td><td>Naminitiv</td></tr>
    </table>
</aside>

{{else}}
<table id="words">
    <tr>
        <th id="id">
            <a href="?sortby=id&order={{if .Reverse}}asc{{else}}desc{{end}}"><span>ID</span>{{if .ID}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>
        <th id="nw">
            <a href="?sortby=new&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Keriktør ordør: 
aäeiywuøolrmnbpvfgkdtzsžšh" class="info above">Nw Speling</span>{{if .New}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="old">
            <a href="?sortby=old&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Keriktør ordør: 
abcdefghijklmnopqrstuvwxyz" class="info above">Old Speling</span>{{if .Old}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{else}}<i class="hidden">🡇</i>{{end}}</a>
        </th>
        <th id="dist">
            <a href="?sortby=dist&order={{if .Reverse}}asc{{else}}desc{{end}}"><span data-title="Min # uv tšendžiz 
tw get frum old tw nw" class="info above">Dist</span>{{if .Dist}}<i>{{if .Reverse}}🡇{{else}}🡅{{end}}</i>{{end}}</a>
        </th>
        <th id="pus">
            <span data-title="Part uv Spytš" class="info above nolink hover">PuS</span>
        </th>
        <th id="sil">
            <span data-title="Silubulz" class="info above nolink hover">Silz</span>
        </th>
    </tr>
    {{template "wordsSorted" .}}
</table>

<nav class="bottom">
    <ul>
        {{if .PreviousPage}}
        <script>
            document.addEventListener("keydown", function (evt) {
                evt = evt || window.event;
                if (evt.keyCode == 65) { /*37*/
                    window.location = '{{.PreviousPage}}'
                }
            });
        </script>
        <li><a href="{{.PreviousPage}}" class="back" data-title="Keyboard shortcut: left arrow"><i>🡄</i> Bäk</a></li>{{else}}
        <li><a class="disabled"><i>🡄</i> Bäk</a></li>{{end}} {{if .NextPage}}
        <script>
            document.addEventListener("keydown", function (evt) {
                evt = evt || window.event;
                if (evt.keyCode == 68) { /*39*/
                    window.location = '{{.NextPage}}'
                }
            });
        </script>
        <li><a href="{{.NextPage}}" class="next" data-title="Keyboard shortcut: right arrow">Nekst <i>🡆</i></a></li>{{else}}
        <li><a class="disabled">Nekst <i>🡆</i></a></li>{{end}}
    </ul>
</nav>
<aside id="legend">
    <table>
        <tr><td>N</td><td>Näwn</td></tr>
        <tr><td>P</td><td>Plørul</td></tr>
        <tr><td>h</td><td>Näwn Freiz</td></tr>
        <tr><td>V</td><td>Vørb (už partisipul)</td></tr>
        <tr><td>t</td><td>Vørb (tränzitiv)</td></tr>
        <tr><td>i</td><td>Vørb (intränzitiv)</td></tr>
        <tr><td>A</td><td>Ädžiktiv</td></tr>
    </table>
    
    <table>
        <tr><td>v</td><td>Ädvørb</td></tr>
        <tr><td>C</td><td>Kandžugeišin</td></tr>
        <tr><td>P</td><td>Prepuzišin</td></tr>
        <tr><td>!</td><td>Intørdžekšin</td></tr>
        <tr><td>r</td><td>Pronäwn</td></tr>
        <tr><td>D</td><td>Definit Artikul</td></tr>
        <tr><td>I</td><td>Indefinit Artikul</td></tr>
        <tr><td>o</td><td>Naminitiv</td></tr>
    </table>
</aside>


{{end}}

<script>
    /* prevents page reloads from toggling flags */
    var uri = window.location.toString()
    console.log(uri)
    if (uri.indexOf("&id") > 0) {
        var clean_uri = uri.substring(0, uri.indexOf("&id"))
        window.history.replaceState({}, document.title, clean_uri)
        console.log(document.title + clean_uri)
    }
</script>

{{template "_footer.html"}}
{{end}}